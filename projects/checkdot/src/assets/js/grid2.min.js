function loadGrid(){const e=document.createElement("canvas"),t=e.getContext("2d"),o=(document.getElementById("canvas").appendChild(e).getContext("2d"),t.canvas);e.width=screen.width,e.height=screen.height;const n=o.getContext("2d");o.style.backgroundColor="black";const a=(window.innerWidth+window.innerHeight)/8,r=3,d=.2,i=50;let h,c,y,l,z=1,x=[],f={x:0,y:0,tx:0,ty:0,z:5e-4},s=!1,m=!1,u="LT";function M(e){e.x=Math.random()*h,e.y=Math.random()*c}function w(){z=window.devicePixelRatio||1,h=window.innerWidth*z,c=window.innerHeight*z,o.width=document.body.clientWidth,o.height=document.body.clientHeight,x.forEach(M)}function b(){y=null,l=null}!function(){const e=[];for(let o=0;o<a;o++)if(1==Math.floor(2*Math.random())&&e.length>0){var t=e[Math.floor(Math.random()*e.length)];x.push({x:0,y:0,z:d+Math.random()*(1-d),text:t})}else x.push({x:0,y:0,z:d+Math.random()*(1-d),shape:!0,color:"49,247,147"})}(),w(),function e(){n.clearRect(0,0,h,c),f.tx*=.96,f.ty*=.96,f.x+=.8*(f.tx-f.x),f.y+=.8*(f.ty-f.y),x.forEach(e=>{if(m&&"LT"==u)e.x+=f.x*e.z,e.y+=f.y*e.z,e.x+=(e.x-h/4)*f.z*e.z,e.y+=(e.y-c/4)*f.z*e.z,e.z+=f.z;else{switch(e.x+=f.x*e.z,e.y+=f.y*e.z,u){case"LT":e.x+=(e.x-h/2)*f.z*e.z,e.y+=(e.y-c/2)*f.z*e.z;break;case"T":e.x+=(e.x-h/4)*f.z*e.z,e.y+=(e.y+c/1)*f.z*e.z;break;case"B":e.x+=(e.x-h/4)*f.z*e.z,e.y+=(e.y-c/1)*f.z*e.z;break;case"R":e.x+=(e.x-h/1)*f.z*e.z,e.y+=(e.y-c/4)*f.z*e.z;break;case"L":e.x+=(e.x+h/4)*f.z*e.z,e.y+=(e.y-c/4)*f.z*e.z}e.z+=f.z}(e.x<-i||e.x>h+i||e.y<-i||e.y>c+i)&&function(e){let t="z",o=Math.abs(f.x),n=Math.abs(f.y);if(o>1||n>1){let e;t="h"==(e=o>n?Math.random()<o/(o+n)?"h":"v":Math.random()<n/(o+n)?"v":"h")?f.x>0?"l":"r":f.y>0?"t":"b"}e.z=d+Math.random()*(1-d),"z"===t?(e.z=.1,e.x=Math.random()*h,e.y=Math.random()*c):"l"===t?(e.x=-i,e.y=c*Math.random()):"r"===t?(e.x=h+i,e.y=c*Math.random()):"t"===t?(e.x=h*Math.random(),e.y=-i):"b"===t&&(e.x=h*Math.random(),e.y=c+i)}(e)}),x.forEach(e=>{if(e.shape){n.beginPath(),n.lineCap="round",n.lineWidth=r*e.z*z,n.strokeStyle=e.color?`rgba(${e.color},${.5+.5*Math.random()}`:`rgba(255,255,255,${.5+.5*Math.random()}`,n.beginPath(),n.moveTo(e.x,e.y);var t=2*f.x,o=2*f.y;Math.abs(t)<.1&&(t=.5),Math.abs(o)<.1&&(o=.5),n.lineTo(e.x+t,e.y+o),n.stroke()}else{n.beginPath(),n.fillStyle="#ffffff",n.font=Math.round(r*e.z*z*2)+"px Arial";var t=2*f.x,o=2*f.y;Math.abs(t)<.1&&(t=.5),Math.abs(o)<.1&&(o=.5),n.fillText(e.text,e.x+t,e.y+o)}}),requestAnimationFrame(e)}(),window.onresize=w,o.onmousemove=function(e){m||(s=!1,function(e,t){if("number"==typeof y&&"number"==typeof l){let o=e-y,n=t-l;f.tx=f.tx+o/8*z*(s?1:-1),f.ty=f.ty+n/8*z*(s?1:-1)}y=e,l=t}(e.clientX,e.clientY))},o.ontouchend=b,document.onkeydown=(e=>{if(console.log(e.code),"ArrowRight"!=e.code&&"KeyD"!=e.code||(u="R",m||(f.z=.005)),"ArrowLeft"!=e.code&&"KeyA"!=e.code||(u="L",m||(f.z=.005)),"ArrowUp"!=e.code&&"KeyW"!=e.code||(u="T",m||(f.z=.005)),"ArrowDown"!=e.code&&"KeyS"!=e.code||(u="B",m||(f.z=.005)),"ShiftLeft"==e.code&&.05!=f.z){for(let e=0;e<2e3;e++)x.push({x:0,y:0,z:.01,shape:!0,color:"33,150,243",fly:!0});f.z=.05,m=!0}}),document.onkeyup=(e=>{"ShiftLeft"==e.code&&m&&(x=x.slice(0,x.length-2e3),f.z=5e-4,m=!1),m||(f.z=5e-4,u="LT")}),document.onmouseleave=b}window.loadGrid=loadGrid;